<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"index.js.html":{"id":"index.js.html","title":"Source: index.js","body":" YATM Classes Thumb Source: index.js 'use strict'; var thumbnailer = require('./build/Release/yatm'); /** * Representation of a Thumbnail with its attributes * @class * @constructor * @param {string|Buffer} input - The path (string) or the {@link https://nodejs.org/api/buffer.html#buffer_class_buffer|Buffer} * that represents binary data of this Thumbnail directly */ var Thumb = function(input) { if (!(this instanceof Thumb)) { return new Thumb(input); } this.options = { input : { buffer: null, }, watermark : { path: '', buffer: null }, width: 0, height: 0, quality: 80, rotate: 0, adjust: '', crop: false }; setImage(this.options.input, input); return this; }; module.exports = Thumb; /** * Sets the size of this Thumb to the specified width and height * @memberof Thumb * @param {number} width - new Width for this Thumb (should be an integer &gt;= 0) * @param {number} height - new Height for this Thumb (should be an integer &gt;= 0) * @return {Thumb} This Thumb resized to specified width and height */ Thumb.prototype.resize = function(width, height) { if (!isPositiveOrZeroInteger(width)) { throw new Error('Invalid width: ' + width + '. Width should be &gt;= 0'); } if (!isPositiveOrZeroInteger(height)) { throw new Error('Invalid height: ' + height + '. Height should be &gt;= 0'); } this.options.width = width; this.options.height = height; return this; }; /** * Rotates this Thumb the specified angle of rotation * @memberof Thumb * @param {number} angle - rotation angle (should be 0, 90, 180 or 270 degrees) * @return {Thumb} This Thumb rotated the specified angle applied */ Thumb.prototype.rotate = function(angle) { if (!isValidAngle(angle)) { throw new Error('Unsupported angle: ' + angle + '. Supported values are (0, 90, 180, 270)'); } this.options.rotate = angle; return this; }; /** * Sets the quality of this Thumb the specified value * @memberof Thumb * @param {number} quality - quality value (should be in the range [0, 100]) * @return {Thumb} This Thumb with this level of quality applied */ Thumb.prototype.quality = function(quality) { if (!isValidQuality(quality)) { throw new Error('Invalid quality: ' + quality + '. Valid quality value should be in the range [0-100]'); } this.options.quality = quality; return this; }; /** * Adjust the image to the width ('wi') or height ('he') if one * of them are 0 setted. Usually setted with [crop]{@link Thumb#crop}. * @memberof Thumb * @param {string} adjust - adjust value should be 'wi' (width) or 'he' (height) * @return {Thumb} This Thumb with this setting applied */ Thumb.prototype.adjust = function(adjust) { if (!isValidAdjust(adjust)) { throw new Error('Invalid adjust: ' + adjust + '. Adjust valid values are (wi, he)'); } this.options.adjust = adjust; return this; }; /** * Crops the thumb if the resized result doesn't match current ratio, * avoiding deformation * @memberof Thumb * @param {boolean} crop - true if the Thumb should be cropped, false otherwise * @return {Thumb} This Thumb with this setting applied */ Thumb.prototype.crop = function(crop) { if (!isValidCrop(crop)) { throw new Error('Invalid crop: ' + crop + '. Crop valid values are (true,false)'); } this.options.crop = crop; return this; }; /** * Applies provided watermark to this Thumb * @memberof Thumb * @param {string|Buffer} input - The path (string) or the {@link https://nodejs.org/api/buffer.html#buffer_class_buffer|Buffer} * that represents binary data of the watermark to apply directly * @return {Thumb} This Thumb with this watermark applied */ Thumb.prototype.watermark = function(input) { setImage(this.options.watermark, input); return this; }; /** * Return whether this Thumb contains a watermark * @memberof Thumb * @return {boolean} true if has watermark, false otherwise */ Thumb.prototype.hasWatermark = function() { return (this.options.watermark.path !== null &amp;&amp; this.options.watermark.path !== '') || this.options.watermark.buffer !== null; }; /** * Applies all given transformations to this Thumb * @memberof Thumb * @param callback - The callback that handles the response. */ Thumb.prototype.toBuffer = function(callback) { var input = getImage(this.options.input); if (input) { thumbnailer.transform(input, this.options.width, this.options.height, this.options.quality, this.options.crop, getImage(this.options.watermark), this.options.rotate, this.options.adjust, callback); } else { callback('Undefined input'); } }; function setImage(dest, input) { if (typeof input === 'string') { dest.path = input; } else if (typeof input === 'object' &amp;&amp; input instanceof Buffer) { dest.buffer = input; } else { throw new Error('Unsupported input ' + typeof input); } } function getImage(input) { var img; if (input.buffer !== null) { img = input.buffer; } else if (input.path !== null &amp;&amp; input.path !== '') { img = input.path; } return img; } function isPositiveOrZeroInteger(num) { return typeof num === 'number' &amp;&amp; !Number.isNaN(num) &amp;&amp; num % 1 === 0 &amp;&amp; num &gt;= 0; } function isValidAngle(angle) { return typeof angle === 'number' &amp;&amp; !Number.isNaN(angle) &amp;&amp; [0, 90, 180, 270].indexOf(angle) !== -1; } function isValidQuality(quality) { return typeof quality === 'number' &amp;&amp; !Number.isNaN(quality) &amp;&amp; quality % 1 === 0 &amp;&amp; quality &gt;= 0 &amp;&amp; quality &lt;= 100; } function isValidAdjust(adjust) { return ['wi', 'he'].indexOf(adjust) !== -1; } function isValidCrop(crop) { return typeof crop === 'boolean'; } × Search results Close "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" YATM Classes Thumb Classes Classes Thumb × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" YATM Classes Thumb YATM - Yet Another Thumbnail ManagerA Node.js module that provides access to the VIPS library and Exiv2 in order to resize and rotate images. Getting Started Prerequisities Installing Usage Testing Built With Versioning Authors License Contributing Getting StartedPrerequisitiesNode.js installed. Tested with v8.9.1. Installation$ npm install yatmIn order to avoid external dependencies, add LD_LIBRARY_PATH={{path to project/global node_modules}}/yatm/deps/lib/to your Node.js environment. Usually: export LD_LIBRARY_PATH={{path to project/global node_modules}}/yatm/deps/lib/Usage (path) Set the thumb object with an input path. (buffer) Set the thumb object with an input buffer. resize(width,height) The resized values. One of both could be 0, so the result will adjust to the non zero side. rotate(rotate) Thumb rotation. Values: {0,90,180,270} quality(quality) Desired thumb quality. Values: {0-100} adjust(adjust) Adjusts the image to the width ('wi') or height ('he') if one of them are 0 setted. Usually setted with crop. Values: {'wi', 'he'} crop(crop) Crops the thumb if the resized result doesn't match current ratio, avoiding deformation. Values: {true,false} toBuffer(callback) Transform the thumb object with the desired options and returns the image as a buffer. Testing Unit testing $ npm test Memory leak $ ./test/memoryleak/memoryleak.sh Full testing, that creates a docker container and installs all dependencies $ molecule testBuilt With VersioningFor the versions available, see the tags on this repository. Additionaly you can see what change in each version in the CHANGELOG.md file. Authors Idealista - Work with - idealista See also the list of contributors who participated in this project. License This project is licensed under the Apache 2.0 license - see the LICENSE file for details. ContributingPlease read CONTRIBUTING.md for details on our code of conduct, and the process for submitting pull requests to us. × Search results Close "},"Thumb.html":{"id":"Thumb.html","title":"Class: Thumb","body":" YATM Classes Thumb Class: Thumb Thumb new Thumb(input) Representation of a Thumbnail with its attributes Parameters: Name Type Description input string | Buffer The path (string) or the Bufferthat represents binary data of this Thumbnail directly Source: index.js, line 12 Methods adjust(adjust) Adjust the image to the width ('wi') or height ('he') if oneof them are 0 setted. Usually setted with crop. Parameters: Name Type Description adjust string adjust value should be 'wi' (width) or 'he' (height) Source: index.js, line 96 Returns: This Thumb with this setting applied Type Thumb crop(crop) Crops the thumb if the resized result doesn't match current ratio,avoiding deformation Parameters: Name Type Description crop boolean true if the Thumb should be cropped, false otherwise Source: index.js, line 112 Returns: This Thumb with this setting applied Type Thumb hasWatermark() Return whether this Thumb contains a watermark Source: index.js, line 138 Returns: true if has watermark, false otherwise Type boolean quality(quality) Sets the quality of this Thumb the specified value Parameters: Name Type Description quality number quality value (should be in the range [0, 100]) Source: index.js, line 80 Returns: This Thumb with this level of quality applied Type Thumb resize(width, height) Sets the size of this Thumb to the specified width and height Parameters: Name Type Description width number new Width for this Thumb (should be an integer &gt;= 0) height number new Height for this Thumb (should be an integer &gt;= 0) Source: index.js, line 44 Returns: This Thumb resized to specified width and height Type Thumb rotate(angle) Rotates this Thumb the specified angle of rotation Parameters: Name Type Description angle number rotation angle (should be 0, 90, 180 or 270 degrees) Source: index.js, line 65 Returns: This Thumb rotated the specified angle applied Type Thumb toBuffer(callback) Applies all given transformations to this Thumb Parameters: Name Type Description callback The callback that handles the response. Source: index.js, line 149 watermark(input) Applies provided watermark to this Thumb Parameters: Name Type Description input string | Buffer The path (string) or the Bufferthat represents binary data of the watermark to apply directly Source: index.js, line 128 Returns: This Thumb with this watermark applied Type Thumb × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
